$(document).ready(function () {
  //Add Class to header when the page is scrolled
  $(window).scroll(function () {
    if ($(window).scrollTop() > 0) {
      $("header").addClass("scrolled");
    } else {
      $("header").removeClass("scrolled");
    }
  });

  $("button.menu").click(function () {
    $(this).toggleClass("opened");
    $('body').toggleClass("overflow-hidden");
  });

  $(".test-slider").slick({
    infinite: true,
    arrows: false,
    dots: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 1750,
    appendDots: $(".test-dots-container"),
  });

  $(".teach-slider").slick({
    infinite: true,
    arrows: false,
    dots: false,
    slidesToShow: 3,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 1750,
    responsive: [
      {
        breakpoint: 993,
        settings: {
          slidesToShow: 2,
        },
      },
      {
        breakpoint: 768,
        settings: {
          slidesToShow: 1,
        },
      },
    ],
  });

  $(".icon-slider").slick({
    infinite: true,
    dots: true,
    slidesToShow: 5,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 1750,
    prevArrow: $(".icon-nav .prev"),
    nextArrow: $(".icon-nav .next"),
    appendDots: $(".icon-dots-container"),
    responsive: [
      {
        breakpoint: 993,
        settings: {
          slidesToShow: 2,
        },
      },
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 1,
        },
      },
    ],
  });

  $(".cs-slider").slick({
    infinite: true,
    dots: false,
    slidesToShow: 3,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 1750,
    prevArrow: $(".cs-nav .prev"),
    nextArrow: $(".cs-nav .next"),
    responsive: [
      {
        breakpoint: 993,
        settings: {
          slidesToShow: 1,
        },
      },
    ],
  });

  $(".c-logo-slider").slick({
    slidesToShow: 6,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 1000,
    variableWidth: true,
    infinite: true,
    arrows: true,
    dots: true,
    prevArrow: $(".cl-nav .prev"),
    nextArrow: $(".cl-nav .next"),
    appendDots: $(".cl-dots-container"),
  });

  $(".more-posts-slider").slick({
    slidesToShow: 2,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 2000,
    arrows: false,
    dots: false,
    responsive: [
      {
        breakpoint: 993,
        settings: {
          slidesToShow: 1,
        },
      },
    ],
  });

  $(".card-slider").slick({
    infinite: true,
    dots: false,
    slidesToShow: 2,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 1750,
    prevArrow: $(".card-nav .prev"),
    nextArrow: $(".card-nav .next"),
  });

  $(".bc-slider").slick({
    infinite: true,
    arrows: false,
    dots: true,
    slidesToShow: 1,
    slidesToScroll: 1,
  });

  $(".timeline-slider").slick({
    infinite: false,
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: false,
    prevArrow: $(".tl-nav .prev"),
    nextArrow: $(".tl-nav .next"),
  });

  $("p[data-tl]").on("click", function () {
    $("p[data-tl]").removeClass("active");
    $(this).addClass("active");
    var TlIndex = $(this).attr("data-tl");
    $(".timeline-slider").slick("slickGoTo", TlIndex);
  });
});

// course variants modal

jQuery(document).ready(function ($) {
  $("#courseVariantsOpenModal").on("click", function (event) {
    event.preventDefault();
    $("#courseModal").fadeIn();
  });

  $("#courseVariantsCloseModal").on("click", function () {
    $("#courseModal").fadeOut();
  });

  $(window).on("click", function (event) {
    if ($(event.target).is("#courseModal")) {
      $("#courseModal").fadeOut();
    }
  });
});

jQuery(function ($) {
  // Intercept the default redirect after adding to cart
  $(document.body).on("added_to_cart", function () {
    window.location.href = "/cart"; // Redirect to /basket
  });
});
